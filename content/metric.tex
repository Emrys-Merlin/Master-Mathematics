\section{CAT(0) cube complexes}
\label{sec:complexes}
This chapter is divided into four sections, which are all concerned with the introduction of our basic object of study: CAT(0) cube complexes. The first section will introduce general metric preliminaries and properties of CAT(0) spaces. Afterwards, we will be in a position to introduce cubes and cube complexes and give a combinatorial condition for them to be CAT(0). The next section is closely related with the former, as we will need to talk about maps between CAT(0) cube complexes. As it turns out, combinatorial maps are the right generalization of simplicial maps to be useful for us. In this section, we will also introduce the automorphism group of CAT(0) cube complex. Lastly, we will talk a bit more about the geometry of the complexes and introduce hyperplanes and halfspaces. These objects will be heavily used throughout this thesis and will be especially important in the next chapter, when they are used to construct the Roller compactification of our complexes.

\subsection{Preliminaries on metric and CAT(0) spaces}
\label{sec:metric}
This section is concerned with basic metric properties of spaces and their connection to CAT(\(0\)) spaces. First, we will define all the necessary objects to define CAT(0) spaces. Afterwards, we will state some basic results about their geometry and topology. The section will end with the definition of the visual boundary of CAT(0) space. The exposition follows closely~\cite{MR1744486} and~\cite{Rolli2012}.

\begin{defin}[Geodesics]%~
  \begin{itemize}
  % \item Let \(X\neq \varnothing\) be a set. \(d\colon X \times X \to \R_{\geq 0} (\cup \{\infty\})\) is called a \emph{metric}, if for all \(x,y,z \in X\)
  %   \begin{enumerate}
  %   \item \(d(x,y) = 0\) if and only if \(x = y\),
  %   \item \(d(x,y) = d(y,x)\) and
  %   \item \(d(x,y) + d(y,z) \geq d(x,z)\).
  %   \end{enumerate}
  %   The pair \((X,d)\) is called a \emph{metric space}.
  \item Let \((X, d)\) be a metric space. A \emph{geodesic} from \(x\) to \(y\) (\(x,y \in X\)) is a map \(c\colon [a,b] \to X\), such that \(c(a) = x\), \(c(b) = y\) and such that there exists a constant \(\lambda > 0\) with
    \begin{align*}
      d(c(t), c(t')) = \lambda \cdot |t - t'| 
    \end{align*}
    for all \(t,t' \in [a,b]\).
  \item The pair \((X,d)\) is called \emph{\(r\)-geodesic} (\(r > 0\)), if \(d(x,y) < r\) implies that there is a geodesic joining \(x\) and \(y\). It is called \emph{uniquely \(r\)-geodesic}, if this geodesic is unique. The pair \((X,d)\) is called \emph{(uniquely) geodesic}, if it is (uniquely) \(r\)-geodesic for all \(r > 0\).
  % \item The \emph{length} of a curve \(c\colon [a,b] \to X\) is defined as
  %   \begin{align*}
  %     l(c) \coloneqq \left\{\sum_{i=1}^n d(c(t_i), c(t_{i-1})) \relmid a = t_0 \leq t_0 \leq \dots \leq t_n = b \text{ a subdivision} \right\}.
  %   \end{align*}
  %   \(c\) is called \emph{rectifiable}, if \(l(c) < \infty\).
  % \item \(d\) is called a \emph{length metric}, if
  %   \begin{align*}
  %     d(x,y) = \inf \{l(c) \mid c \text{ rectifiable joining } x \text{ and } y\}
  %   \end{align*}
  %   for arbitrary \(x,y \in X\), where \(\inf\varnothing = \infty\). In this case \((X,d)\) is called a \emph{length space}.
  \end{itemize}
\end{defin}

% \begin{rem}
%   In this thesis the metric is allowed to take the value \(\infty\). This is a bit unusual, but convenient in the setting of length spaces, where it might be that a path does not exist.
% \end{rem}

\begin{bsp}
  The pair \((\E^n, d_0)\), where \(\E^n = \R^n\) and \(d_0(x,y) \coloneqq \|x - y\|_2\), is a length space which is uniquely geodesic. The space \(\E^n \setminus {0}\) is still a length space, but no longer geodesic, since every pair of antipodal points can no longer be joined by a line segment.. If a whole cube \(C= [0,1]^n\) (or any other subset with non-empty interior) is removed, \(\E^n \setminus C\) is no longer a length space with regard to the restriction of the  metric. 
  % \item \((\sphere^n, d_\kappa)\), \(\kappa > 0\), is the unit sphere in \(\E^{n+1}\) together with the metric \(d_{\kappa}(x,y) = \frac{1}{\sqrt{\kappa}} \cdot \angle (x,y)\). This space is uniquely \(\frac{\pi}{\sqrt{\kappa}}\)-geodesic.
  % \item \((\hyperbole^n, d_\kappa)\), \(\kappa < 0\), is the hyperbolic \(n\)-space
  %   \begin{align*}
  %     \hyperbole^n & = \left\{x = (x_0, \dots, x_n)\in \R^{n+1} \relmid \langle x, x \rangle_{1,n} = -x_0^2 + \sum_{i=1}^n x_i^2 = -1 \right\} \quad \text{with}\\
  %     d_\kappa(x,y) & = \frac{1}{\sqrt{-\kappa}} \cdot \operatorname{arcosh} \langle x,y \rangle_{1,n}.
  %   \end{align*}
  %   This space is also a length space and uniquely geodesic.
\end{bsp}

% \begin{defin}
%   Let
%   \begin{align*}
%     M_\kappa^n \coloneqq
%     \begin{cases}
%       \sphere^n & \kappa > 0\\
%       \E^n & \kappa = 0\\
%       \hyperbole^n & \kappa < 0
%     \end{cases} \text{ and }
%     D_\kappa =
%     \begin{cases}
%       \frac{\pi}{\sqrt{\kappa}} & \kappa > 0\\
%       \infty & \kappa \leq 0
%     \end{cases}.
%   \end{align*}
%   Then \((M_\kappa^n, d_\kappa)\) is called the \emph{model space of curvature \(\kappa\)}. \(D_\kappa\) denotes its \emph{diameter}.
% \end{defin}

% \begin{rem}
%   As a reference for the above implicit claims~\cite[Sec.\ I.2, I.6]{MR1744486} can be used.
% \end{rem}

\begin{defin}[CAT(0) and non-positive curvature spaces]
  \label{def:cat}
  \begin{itemize}
  \item Let \((X,d)\) be a metric space. A \emph{geodesic triangle} \(\Delta \subset X\) consists of three points \(p,q,r \in X\), its \emph{vertices}, together with a choice of three geodesic segments \([p,q], [q,r], [r, p]\) joining them, its \emph{edges} (The choice of geodesics might not be unique). If necessary, the notation \(\Delta = \Delta(p,q,r)\) or \(\Delta = \Delta([p,q], [q,r], [r,p])\) will be used. The first case is a slight abuse of notation, as the three vertices might not determine the triangle.
  \item A \emph{comparison triangle} in \(\E^2\) for \(\Delta = \Delta(p,q,r)\) is a choice of three points \(\bar p, \bar q, \bar r \in \E^2\) such that \(\|\bar p- \bar q\| = d(p, q)\), \(\|\bar q- \bar r\|, = d(q, r)\) and \(\|\bar r- \bar p\| = d(r, p)\). It will be denoted by \(\bar \Delta = \Delta(\bar p, \bar q, \bar r)\). Such a comparison triangle always exists \cite[c.\,f.][Sec.\ I.2]{MR1744486}.
  \item \(\Delta\) satisfies the \emph{CAT(\(0\)) inequality}, if \(d(x,y) \leq \|\bar x- \bar y\|\) for any \(x, y \in \Delta\) and where \(\bar x \in \bar \Delta \subset \E^2\) is the unique point having the same distance to the two endpoints of the geodesic segment it lies on as \(x\) on its geodesic.
  \item \(X\) is called a \emph{CAT(\(0\)) space}, if \(X\) is geodesic and if each geodesic triangle \(\Delta\) satisfies the CAT(\(0\)) inequality.
  \item \(X\) is called \emph{of curvature \(\leq 0\)} or \emph{non-positively curved}, if it is locally a CAT(\(0\)) space, i.\,e.\ for each \(x \in X\) there exists an \(r > 0\), such that \(B(x,r)\) together with the induced metric is a CAT(\(0\)) space.
  \end{itemize}
\end{defin}

\begin{bsp}
  \begin{description}
    % \item CAT(\(\kappa\)) contained etc
  \item[Euclidean space:] \(\E^n\) is by definition a CAT(0) space. Furthermore, it is easy to see if we remove the interior \(\Delta\) of a non-degenerate triangle from \(\E^2\) and equip this space with the induced length metric (i.\,e.\ the distance between two points is given by the infimum of the length over all piecewise linear paths), then \(\E^2 \setminus \Delta\) is no longer CAT(0), as the interior of \(\Delta\) is missing which lengthens all shortest paths which would normally go through the interior. However, this space is still non-positively curved since all balls can be chosen so small that they do contain at most parts of two sides of the triangle. In these balls all triangles correspond to regular filled triangles in \(\E^2\).
  \item[Trees:]
    \begin{figure}[htbp]
      \centering
      \input{./images/cat-tree.tex}
      \caption{A triangle in a tree and the corresponding comparison triangle in \(\E^2\). The different choices of comparison points for \(x\) and \(y\) are inscribed as \(\bar x_i\) and \(\bar y_i\). The blue segment in the comparison triangle corresponds to the only comparison pair with the same length as in the tree. The three green line segments are all longer.}
      \label{fig:cat-tree}
    \end{figure}
    Trees form another example of CAT(0) spaces when equipped with the edge metric. Every triangle in a tree takes the form of one midpoint \(m\) with three edge paths connecting \(m\) to the three vertices \(p,q\) and \(r\). Otherwise, we would have a proper cycle in the graph, which therefore could not be a tree. However, this implies that any point on the triangle, always lies on two of its sides at the same time and this leads to two corresponding points in the comparison triangle. This situation is depicted in Figure~\ref{fig:cat-tree}. This leads to the consequence, that any two points \(x,y \in \Delta(p,q,r)\) have a representative lying on a common side in the comparison triangle (in our example below this corresponds to \(\bar x_2\) and \(\bar y_2\)) with the blue line segment joining the two. These two representatives satisfy the CAT(0) inequality trivially. If we compare \(\bar x_1\) to \(\bar y_2\), we note that \(\bar \Delta(\bar x_1, \bar x_2, \bar q)\) is an isosceles triangle, meaning that \(\angle(\bar x_2, \bar x_1, \bar y_2) \geq \frac{\pi}{2}\). This shows that \(\|\bar x_1 - \bar y_2\|_2 \geq \|\bar x_2 - \bar y_2\|_2 = d(x,y)\). By symmetry the same is true in the case of \(\bar x_2\) and \(\bar y_1\). The last case is to consider \(\bar x_1\) and \(\bar y_1\). However, then we have the rectangle \(\bar x1, \bar x_2, \bar y_2, \bar y_1\). Using the two isosceles triangles \(\Delta(\bar q, \bar x_1, \bar x_2)\) and \(\Delta(\bar p, \bar y_1, \bar y_2)\), we see that the rectangle has angles of more than \(\frac{pi}{2}\) at the vertices \(\bar x_2\) and \(\bar y_2\). Hence, \(\|\bar x_1 - \bar y_1 \|_2 \geq \|\bar x_2 - \bar y_2\|_2 = d(x,y)\). All in all we see that the triangle satisfies the CAT(0) inequality. Since every tree is geodesic, we see that trees indeed are CAT(0) spaces.
  \item[Hyperbolic space:] For completeness sake, we would like to mention that every hyperbolic \(n\)-space \(\mathbb{H}^n\) is CAT(0). The interested reader may find further information in \textcite[Section~II.1]{MR1744486}.
  % \item \(\bigvee_{n \in \N} (\sphere_n, x_n)\), where \(\sphere_n = \frac{1}{\sqrt{n}} \sphere^1
    % \cong M_n^1\) and \(x_n \in \sphere_n\). Not CAT(\(\kappa\)) for any \(\kappa\), not even locally.
  \end{description}
\end{bsp}


% \begin{defin}
%   \label{def:epsilon}
%   \begin{itemize}
%   \item \(c\colon [a, b] \to K\) is called \emph{piecewise geodesic}, if there exists a subdivision \(a = t_0 \leq \dots \leq t_k = b\) and geodesics \(c_i\colon [t_{i-1}, t_i] \to C_{\lambda(i)}\), such that \(c|_{[t_{i-1}, t_i]} = p_{\lambda(i)} \circ c_i\). The \emph{length} of a piecewise geodesic path is given by
%     \begin{align*}
%       l(c) \coloneqq \sum_{i=1}^n l(c_i).
%     \end{align*}
%   \item Let
%     \begin{align*}
%       &d\colon K \times K \to \R_{\geq 0} \cup \{\infty\},\\
%       &d(x,y) \coloneqq \inf\{l(c) \mid c(a) = x,\ c(b) = y \text{ and } c \text{ piecewiese geodesic}\}
%     \end{align*}
%     and
%     \begin{align}
%       \epsilon(x) \coloneqq \{d(x, C \setminus \st(x)) \mid C \subset K \text{ a cell and } x \in C\}. \label{eq:epsilon}
%     \end{align}
%   \end{itemize}
% \end{defin}

\subsubsection*{Properties of general CAT(0) spaces}

This section will contain some important facts about general CAT(0) spaces. Where no proof is given, it can be found in \cite{MR1744486}.

\begin{prop}[{\cite[Prop II.1.4]{MR1744486}}]
  Let \(X\) be a CAT(0) space. Then
  \begin{enumerate}
  \item \(X\) is uniquely geodesic and
  \item \(X\) is contractible.
  \end{enumerate}
\end{prop}

\begin{defin}
  Let \(X,Y\) be metric spaces. The map \(\phi \colon X \to Y\) is called
  \begin{itemize}
  \item an \emph{isometric embedding}, if \(d_X(x,y) = d_Y(\phi(x), \phi(y))\) for any two \(x,y \in X\),
  \item an \emph{isometry}, if it is an isometric embedding and surjective (and hence bijective) and
  \item a \emph{local isometry}, if for each \(x \in X\) there exists an open neighborhood \(U \subset X\) containing \(x\), such that \(\phi|_U \colon U \to \phi(U)\) is an isometry.
  \end{itemize}
\end{defin}

\begin{prop}[{\cite[Propositions 1 \& 2]{Rolli2012}}]
  Let \(X,Y\) be geodesic spaces and let \(Y\) be CAT(0). Then every local isometry \(\phi \colon X \to Y\) is an isometric embedding. In particular, every local geodesic is a geodesic.
\end{prop}

On CAT(0) spaces one regularly defines a boundary via identifying certain geodesic rays. This so called \emph{visual boundary} will play a minor role in this thesis, but we will still need it. 

\begin{defin}[Visual boundary, {\cite[Sec.~II.8]{MR1744486}}]
  \label{defin:visual}
  Let \(\gamma_i \colon [0, \infty) \to X\) be two geodesic rays. We define \(\gamma_1 \sim \gamma_2\) if and only if there exists a constant \(K > 0 \) such that \(d(\gamma_1(t), \gamma_2(t)) < K\) for all \(t \geq 0\). The set of equivalence classes of this relation \(\partial_\sphericalangle X\) is called the \emph{visual boundary of \(X\)}.

  Clearly, each group action on \(X\) by isometries extends to an action on \(\partial_\sphericalangle X\).
\end{defin}

\begin{rem}
  \(X \sqcup \partial_{\sphericalangle}X\) can be topologized in a way that it agrees with the topology induced by the metric on \(X\). If \(X\) is locally compact \(X \sqcup \partial_\sphericalangle X\) becomes compact (c.\,f.~\cite[Sec.~II.8]{MR1744486}). In general this can fail.
\end{rem}

\begin{bsp}
  \begin{description}
  \item[Euclidean space:] In \(\E^n\) two geodesics (i.\,e.\ straight lines) are equivalent if and only if they are parallel. Hence, we can fix any point \(x \in \E^n\) and see that there is a one-to-one correspondence between points at the visual boundary and (signed) directions. In other words, we attach an \(n-1\)-sphere at infinity and indeed it can be shown that \(\E^n \sqcup \partial_\sphericalangle \E^n\) is homeomorphic to the closed unit ball \(D^n\), with \(\E^n\) being homeomorphic to the interior (c.\,f.~\cite[Section~II.8]{MR1744486}).
  \item[Trees:] In the case of trees, every edge path is a geodesic and two of them \(c_1\) and \(c_2\) are equivalent if and only if there exist \(n,m \in \N\) such that \(c_1(t+m) = c_2(t+n)\) for all \(t\geq0\). This means that up to a finite starting interval the two geodesics have to coincide. In other words we are only interested in the \enquote{tails} of the geodesic rays.
  \end{description}
\end{bsp}

\begin{lemma}[{\cite[Lemma~2.9]{MR3509968}}]
  \label{lem:2.9}
  Let \(X = X_1 \times \dots X_m\) be a product of CAT(0) spaces \(X_j\) and let \(G = G_1 \times \dots \times G_m\), where \(G_j \leq \Isom(X_j)\). Then any \(G_j\)-fixed point in \(\partial_\sphericalangle X_j\) defines a \(G\)-fixed point in \(\partial_\sphericalangle X\).
\end{lemma}

\begin{proof}
  Let \(d_i\) respectively \(d\) be the CAT(0) metrics on \(X_i\) respectively \(X\). Up to permuting the indices we can assume that we have a \(G_1\)-fixed point in \(\partial_\sphericalangle X_1\). Let the geodesic ray \(l_1\colon [0,\infty) \to X_1\) represent this fixed point, i.\,e.\
  \[
    \sup_{t \geq 0} d_1(l_1(t), g_1l_1(t)) < \infty
  \]
  for every \(g_1 \in G_1\). For each \(i > 1\) we fix a point \(x_i \in X_i\). Then
  \[
    l\colon [0, \infty) \to X,\ t \mapsto (l_1(t), x_2, \dots, x_m)
  \]
  is a geodesic in \(X\) and for any \(g = (g_1, \dots, g_m) \in G\) we have
  \[
    \sup_{t \geq 0} d^2(l(t), gl(t)) = \sup_{t \geq 0} \left [ d_1^2(l_1(t), g_1l_1(t)) + \sum_{i=2}^m d_i^2(x_i, g_ix_i)\right] < \infty.
  \]
  Hence \(l\) defines a \(G\)-fixed point in \(\partial_\sphericalangle X\).
\end{proof}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: "../Master"
%%% ispell-local-dictionary: "en_US"
%%% End:

%  LocalWords:  xM
